// out: false
/* forms */ @import '_settings.less';

@select-multi-options-border:          fade(@black, 4.5%);
@select-multi-options-border-dark:     fade(@white, 4.5%);

@range-thumb-color:                    #8e9094;
@range-thumb-color-dark:               #60656e;
@range-track-bg:                       fade(@black, 8%);
@range-track-hover-bg:                 fade(@black, 15%);
@range-track-bg-dark:                  fade(@white, 8%);
@range-track-hover-bg-dark:            fade(@white, 15%);

@form-error-bg:                        fade(@red, 10%);
@form-warning-bg:                      fade(@yellow, 10%);

@form-focus-bg:                        fade(@black, 1.5%);
@form-focus-bg-dark:                   fade(@white, 7.5%);
@form-focus-border:                    fade(@black, 35%);
@form-focus-border-dark:               fade(@white, 65%);
@form-focus-shadow:                    fade(@black, 7.5%);

@placeholder-color:                    fade(@black, 40%);
@placeholder-focus-color:              fade(@black, 23%);
@placeholder-color-dark:               fade(@white, 40%);
@placeholder-focus-color-dark:         fade(@white, 23%);

@check-custom-bg:                      fade(@black, 65%);
@check-custom-bg-dark:                 fade(@white, 65%);
@switch-custom-bg:                     fade(@black, 15%);
@switch-custom-bg-dark:                fade(@white, 15%);

@form-disabled-bg:                     fade(@black, 7.5%);
@form-disabled-bg-dark:                fade(@white, 7.5%);
@form-readonly-color:                  fade(@black, 50%);
@form-readonly-color-dark:             fade(@white, 65%);

._global-vars () {
    --select-multi-options-border: @select-multi-options-border;

    --range-thumb-color: @range-thumb-color;
    --range-track-bg: @range-track-bg;
    --range-track-hover-bg: @range-track-hover-bg;

    --form-focus-bg: @form-focus-bg;
    --form-focus-border: @form-focus-border;

    --placeholder-color: @placeholder-color;
    --placeholder-focus-color: @placeholder-focus-color;

    --check-custom-bg: @check-custom-bg;
    --switch-custom-bg: @switch-custom-bg;

    --form-disabled-bg: @form-disabled-bg;
    --form-readonly-color: @form-readonly-color;
}
._global-vars-dark () {
    --select-multi-options-border: @select-multi-options-border-dark;

    --range-thumb-color: @range-thumb-color-dark;
    --range-track-bg: @range-track-bg-dark;
    --range-track-hover-bg: @range-track-hover-bg-dark;

    --form-focus-bg: @form-focus-bg-dark;
    --form-focus-border: @form-focus-border-dark;

    --placeholder-color: @placeholder-color-dark;
    --placeholder-focus-color: @placeholder-focus-color-dark;

    --check-custom-bg: @check-custom-bg-dark;
    --switch-custom-bg: @switch-custom-bg-dark;

    --form-disabled-bg: @form-disabled-bg-dark;
    --form-readonly-color: @form-readonly-color-dark;
}

.ease- {
    &form,&1st-form > *,&2nd-form > * > * {
        transition-property: color, background-color, border-color;

        .icon { transition-property: color, transform, opacity; transition-duration: @ease-default; }
        .state { transition-property: width, height, background-color, transform, opacity; transition-duration: @ease-default; }
        select { transition-property: opacity; transition-duration: @ease-default; }
        textarea { transition-property: height; transition-duration: @ease-default; }
    }
}

._create-ease-range() {
    .ease-range {
        &::-webkit-slider-thumb { transition-property: transform; transition-duration: @ease-default; }
        &::-moz-range-thumb { transition-property: transform; transition-duration: @ease-default; }
        &::-webkit-slider-runnable-track { transition-property: background-color; transition-duration: @ease-default; }
        &::-moz-range-track { transition-property: background-color; transition-duration: @ease-default; }
    }
}
._create-ease-range();
.no-effects { ._create-ease-range(); }

& when (@reduced-motion = true) {
    @media (prefers-reduced-motion: reduce) {
        ._create-ease-range();
    }
}

.text,.select,.select-multi,.textarea { ._border-var(); overflow: hidden; display: block; position: relative; }
.text,.select,.mobile .select-multi { line-height: normal; min-height: @btn-default; }

.text:not([class*="align-"]) input,.select:not([class*="align-"]) select,.select-multi:not([class*="align-"]) select,.textarea:not([class*="align-"]) textarea { text-align: left !important; }
.text input,.select select,.select-multi select,.textarea textarea { ._color-var(black); width: 100%; background-color: @no-color; border: 0; }
.text input,.select select,.select-multi select,.range { @no-appearance(); }
.text input,.select select,.textarea textarea { line-height: 18px; padding: 5px; border-radius: 0; } // border radius fix for Chrome
.text input,.select select { height: @btn-default - 2; overflow: hidden; }

.toggle-textarea {
    &:not(.form-focus) {
        textarea { line-height: @btn-default - 10; height: @btn-default - 2; }
        &.border-dual {
            textarea { line-height: @btn-default - 2 * @border-dual - 10; height: @btn-default - 2 * @border-dual; }
        }
        &.no-border {
            textarea { height: @btn-default; }
        }
    }
}

.no-border {
    &.text input,&.select select { line-height: @btn-default - 10; height: @btn-default; }
}
.border-dual {
    &.text input,&.select select { line-height: @btn-default - 10 - @border-dual * 2; height: @btn-default - @border-dual * 2; }
}

.select {
    &:not(.form-focus) {
        select { opacity: .45; }
    }

    select { padding-right: 22px; position: relative; z-index: 2; }
    option,optgroup { ._bg-var(highlighted); }
    .icon { ._icon(12px); position: absolute; top: 50%; right: 5px; cursor: default; transform: translateY(-50%); opacity: .45; }

    .ie & select:focus::-ms-value { color: inherit; background-color: @no-color; }
    .ie & select::-ms-expand { display: none; }
}

.select-multi {
    .mobile &,.ie & { padding: 5px; }
    select { margin-bottom: -2px; }
    .edge & select { margin-bottom: -5px; }
    option,optgroup { padding: 3px 5px; }
    option:not(:last-child) { ._border-var(@dir: border-bottom; @var: select-multi-options-border); }
}

.check,.radio { vertical-align: middle; display: inline-block; }

.file {
    line-height: normal; height: @btn-default; ._border-var(); overflow: hidden; display: block; position: relative;

    &.border-dual { height: @btn-default + @border-dual * 2; }
    input { vertical-align: middle; width: 100%; overflow: hidden; position: absolute; top: 0; right: 0; bottom: 0; left: 0; z-index: 3; opacity: 0; } // don't change z-index!
    .btn { text-overflow: ellipsis; white-space: nowrap; min-width: 125px; overflow: hidden; float: left; }
    &.round {
        .btn { border-radius: @round / 2 0 0 @round / 2; }
    }
    & > span:not(.btn) { white-space: nowrap; text-overflow: ellipsis; line-height: @btn-default; width: 100%; padding-right: 10px; padding-left: 135px; overflow: hidden; display: block; position: absolute; }
    html:not(.mobile) &:hover {
        .btn { ._bg-var(btn-hover-bg); }
    }

}

label.custom { min-height: 22px; padding-top: 5px; padding-bottom: 3px; display: inline-block; }

.check-custom,.radio-custom,.switch-custom { vertical-align: middle; height: 22px; margin-bottom: 2px; ._border-var(); overflow: hidden; display: inline-block; position: relative; }
.check-custom,.radio-custom { width: 22px; }
.radio-custom,.switch-custom.round { border-radius: 11px !important; }
.switch-custom { width: 44px; }

.check-custom i,.radio-custom i,.switch-custom i { content: ""; width: 14px; height: 14px; display: block; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); }
.check-custom i,.radio-custom i { ._bg-var(check-custom-bg); opacity: 0; }
.radio-custom i,.switch-custom.round i { border-radius: 7px; }
.check-custom.round i { border-radius: 3px; }

.check-custom input,.radio-custom input,.switch-custom input { width: 140%; height: 140%; display: block; position: absolute; top: -20%; left: -20%; z-index: 1; opacity: 0; }
.check-custom input:checked + i,.check-custom input:indeterminate + i,.radio-custom input:checked + i { opacity: 1; }
.check-custom input:indeterminate + i { height: 4px; }
.switch-custom input:not(:checked) + i,.switch-custom input:not(:checked) + i[class*="ui-"] { ._bg-var(switch-custom-bg); }
.switch-custom input:checked + i { transform: translate(25%,-50%); }
.switch-custom input:checked + i:not([class*="ui-"]) { background-color: @green; }
.switch-custom input:not(:indeterminate):not(:checked):not(:indeterminate) + i { transform: translate(-125%,-50%); }
.switch-custom input:indeterminate + i { background-color: @yellow; }

html:not(.mobile) .switch-custom:hover i { width: 18px; }
html:not(.mobile) .switch-custom:hover input:checked + i { transform: translate(0,-50%); }
html:not(.mobile) .switch-custom:hover input:not(:checked) + i { transform: translate(-100%,-50%); }
html:not(.mobile) .switch-custom:hover input:indeterminate + i { transform: translate(-50%,-50%); }

.range { width: 100%; height: 1.4rem; padding: 0; background-color: @no-color; }

.range::-webkit-slider-thumb { width: 1rem; height: 1rem; margin-top: -.25rem; background-color: @green; border: 0; border-radius: 50%; @no-appearance(); }
.range.ui-text::-webkit-slider-thumb { background-color: currentColor; }
.range:not(:disabled):hover::-webkit-slider-thumb { transform: scale(1.2); }
.range:not(:disabled)::-webkit-slider-thumb:active { transform: scale(1.4); }
.range::-webkit-slider-runnable-track { width: 100%; height: .5rem; ._bg-var(range-track-bg); border-color: @no-color; border-radius: 20px; cursor: pointer; }
.range:hover::-webkit-slider-runnable-track { ._bg-var(range-track-hover-bg); }

.range::-moz-range-thumb { width: 1rem; height: 1rem; background-color: @green; border: 0; border-radius: 50%; @no-appearance(); }
.range.ui-text::-moz-range-thumb { background-color: currentColor; }
.range:not(:disabled):hover::-moz-range-thumb { transform: scale(1.2); }
.range:not(:disabled)::-moz-range-thumb:active { transform: scale(1.4); }
.range::-moz-range-track { width: 100%; height: .5rem; ._bg-var(range-track-bg); border-color: @no-color; border-radius: 20px; cursor: pointer; }
.range:hover::-moz-range-track { ._bg-var(range-track-hover-bg); }

.range::-ms-thumb { width: 1rem; height: 1rem; background-color: @green; margin-top: 0; margin-right: .2rem; margin-left: .2rem; border: 0; border-radius: 50%; @no-appearance(); }
.range.ui-text::-ms-thumb { background-color: currentColor; }
.range:not(:disabled):hover::-ms-thumb { transform: scale(1.2); }
.range:not(:disabled)::-ms-thumb:active { transform: scale(1.4); }
.range::-ms-track { color: @no-color; width: 100%; height: .5rem; background-color: @no-color; border-color: @no-color; cursor: pointer; }

.range::-ms-fill-lower { ._bg-var(range-track-bg); border-radius: 20px; }
.range:hover::-ms-fill-lower { ._bg-var(range-track-hover-bg); }
.range::-ms-fill-upper { ._bg-var(range-track-bg); border-radius: 20px; }
.range:hover::-ms-fill-upper { ._bg-var(range-track-hover-bg); }

.range:disabled::-webkit-slider-thumb { ._bg-var(range-thumb-color); }
.range:disabled::-moz-range-thumb { ._bg-var(range-thumb-color); }
.range:disabled::-ms-thumb { ._bg-var(range-thumb-color); }

.range:disabled::-webkit-slider-runnable-track { cursor: default; }
.range:disabled::-moz-range-track { cursor: default; }

.error .check-custom,.error .radio-custom,.error .switch-custom { background-color: @form-error-bg !important; border-color: @red !important; }
.warning .check-custom,.warning .radio-custom,.warning .switch-custom { background-color: @form-warning-bg !important; border-color: @yellow !important; }

.form-light { border-color: @border-color-dark !important; }
.form-light > input,.form-light > select:not(:focus),.form-light > textarea,.form-light .icon { color: @white; }
.form-light > input:-webkit-autofill:not(:focus) { -webkit-text-fill-color: @white !important; }

.error:not(.form-holder):not(.required-accept):not(.hint),.error label.check,.error label.radio { background-color: @form-error-bg !important; border-color: @red !important; }
.warning:not(.form-holder):not(.required-accept):not(.hint),.warning label.check,.warning label.radio { background-color: @form-warning-bg !important; border-color: @yellow !important; }

.hint,.required-msg { font-size: 13px; margin-top: 5px; margin-bottom: 0 !important; }
.hint,.required-msg.show { display: block; }
.hint.error,.required-msg { color: @red; }
.hint.warning { color: @yellow; }
.required-msg:not(.show) { display: none; }

.form-inline,.form-xs-inline { vertical-align: middle; display: inline-block !important; }

.form-disabled { ._bg-var(form-disabled-bg); opacity: .65; }
.form-readonly input,.form-readonly textarea { ._color-var(form-readonly-color); }
.form-light.form-disabled { background-color: @form-disabled-bg-dark; }
.form-light.form-readonly input,.form-light.form-readonly textarea { color: @form-readonly-color-dark; }

.form-label,.form-grid { line-height: normal; opacity: .6; }
.form-grid { font-size: 13px; }
.form-label { margin-bottom: 5px; display: inline-block; }

.form-focus { ._border-color-var(form-focus-border); }
.form-focus.form-light { border-color: @form-focus-border-dark !important; }

.form-focus:not(.form-readonly) { ._bg-var(form-focus-bg); box-shadow: inset 0 0 2px @form-focus-shadow; }
.form-focus > input,.form-focus > select,.form-focus.form-light > select option,.form-focus > textarea,.form-focus .icon:not([class*="ui-"]) { ._color-var(black); }
.form-focus.form-light > input,.form-focus.form-light > select,.form-focus.form-light > textarea,.form-focus.form-light .icon:not([class*="ui-"]) { color: @white !important; }
[class*="text-icon"].form-focus .icon { opacity: 1; }
.form-focus.select .icon { transform: translateY(-50%) rotate(-180deg); opacity: 1; }

::placeholder { ._color-var(placeholder-color); }
::-ms-input-placeholder { ._color-var(placeholder-color); }
::-moz-placeholder { opacity: 1; }

.form-focus > ::placeholder { ._color-var(placeholder-focus-color); }
.form-focus > ::-ms-input-placeholder { ._color-var(placeholder-focus-color); }

.form-light > ::placeholder { color: @placeholder-color-dark; }
.form-light > ::-ms-input-placeholder { color: @placeholder-color-dark; }

.form-light.form-focus > ::placeholder { color: @placeholder-focus-color-dark; }
.form-light.form-focus > ::-ms-input-placeholder { color: @placeholder-focus-color-dark; }

[class*="text-icon"] .icon,[class*="text-icon"] > button { ._color-var(black); cursor: default; }
[class*="text-icon"] > .icon,[class*="text-icon"] > button { position: absolute; top: 50%; right: 5px; transform: translateY(-50%); }
[class*="text-icon"] > .icon { width: 16px; height: 16px; }
[class*="text-icon"] .icon { opacity: .45; }
.text-icon-l > .icon,.text-icon-both > .text-icon-l { right: inherit; left: 5px; }

[class*="text-icon"] > button,[class*="text-icon"] > button .icon { cursor: pointer; } // fix: set cursor setting svg icons, too
[class*="text-icon"] > button:hover .icon { opacity: 1; }

[class*="text-icon"]:not(.text-icon-l) > input,.text-icon-both > input { padding-right: 26px !important; }
.text-icon-l > input,.text-icon-both > input { padding-left: 26px !important; }

.clear-form:not(.open) { display: none; }
.clear-form:not(.open-ease) { opacity: 0; }
.text .clear-form .icon { ._icon(12px); }

.form-holder .text,.form-holder .select { min-width: inherit !important; }
.form-holder-focus [class*="col-"] > * { ._border-color-var(form-focus-border); }
.form-holder-focus [class*="col-"] > .form-light,.form-holder-focus [class*="col-"] > .border-light { border-color: @form-focus-border-dark !important; }

.form-holder [class*="col-"]:not(:last-child) > *,.form-holder .row:not(:last-child) > [class*="col-"]:last-child > * { border-right: 0; }
.form-holder [class*="col-"]:not(:first-child) > *,.form-holder .row:last-child > [class*="col-"]:first-child > * { border-top-left-radius: 0; border-bottom-left-radius: 0; }
.form-holder [class*="col-"]:not(:last-child) > *,.form-holder .row:first-child > [class*="col-"]:last-child > * { border-top-right-radius: 0; border-bottom-right-radius: 0; }

.form-holder .row:not(:first-child):not(:last-child) > [class*="col-"] > * { border-radius: 0; }
.form-holder.error .text,.form-holder.error .select,.form-holder.error .border,.form-holder.error [class*="border-"] { border-color: @red !important; }
.form-holder.error .text,.form-holder.error .select { background-color: @form-error-bg; }

.form-holder.warning .text,.form-holder.warning .select,.form-holder.warning .border,.form-holder.warning [class*="border-"] { border-color: @yellow !important; }
.form-holder.warning .text,.form-holder.warning .select { background-color: @form-warning-bg; }

.form-lg .text,.form-lg .select { min-height: @btn-lg; }
.form-lg .text input,.form-lg .select select { font-size: @large; line-height: @btn-lg - 14; height: @btn-lg; padding-right: 10px; padding-left: 10px; }
.form-lg .text.no-border.text input,.form-lg .select.no-border.select select { line-height: @btn-lg - 14; height: @btn-lg; }
.form-lg .text.border-dual.text input,.form-lg .select.border-dual.select select { line-height: @btn-lg - 14; height: @btn-lg - @border-dual * 2; }

.form-lg .select select { padding-right: 40px; }

.form-lg .select .icon,.form-lg [class*="text-icon"] > .icon { ._icon(20px); }
.form-lg .select .icon,.form-lg [class*="text-icon"] > .icon,.form-lg [class*="text-icon"] > button { right: 10px; }
.form-lg .text-icon-l > .icon,.form-lg .text-icon-both > .text-icon-l { left: 10px; }

.form-lg [class*="text-icon"]:not(.text-icon-l) > input,.form-lg .text-icon-both > input { padding-right: 40px !important; }
.form-lg .text-icon-l > input,.form-lg .text-icon-both > input { padding-left: 40px !important; }
.form-lg .clear-form { ._icon(14px); }

.form-lg .file { height: @btn-lg; }
.form-lg .file.border-dual { height: @btn-lg + @border-dual * 2; }
.form-lg .file > span:not(.btn) { font-size: @large; line-height: @btn-lg; }

@media (@default-start) {
    .form-grid { line-height: @btn-default; display: inline-block; }
    .form-lg .form-grid { font-size: @font-size; line-height: @btn-lg; }
}
@media (@md-finish) {
    .form-grid { display: block; }
    .row [class*="col-"]:not(.sm-fluid) .form-grid { margin-bottom: -15px; }

    .no-row-gap [class*="col-"]:not(.sm-fluid) .form-grid { margin-top: 10px; margin-bottom: 5px; }
    .row-gap-xs [class*="col-"]:not(.sm-fluid) .form-grid,.row-gap-xs-v [class*="col-"]:not(.sm-fluid) .form-grid { margin-bottom: 3px; }
    .row-gap-sm [class*="col-"]:not(.sm-fluid) .form-grid,.row-gap-sm-v [class*="col-"]:not(.sm-fluid) .form-grid { margin-bottom: 0; }
    .row-gap-md [class*="col-"]:not(.sm-fluid) .form-grid,.row-gap-md-v [class*="col-"]:not(.sm-fluid) .form-grid { margin-bottom: -5px; }
}
@media (@md-start) and (@md-finish) {
    .sm-fluid .form-grid.form-grid { line-height: @btn-default; display: inline-block; }
}
@media (@sm-finish) {
    .sm-fluid .form-grid { display: block; }
    .row [class*="col-"].sm-fluid .form-grid { margin-bottom: -15px; }

    .no-row-gap [class*="col-"].sm-fluid .form-grid { margin-top: 10px; margin-bottom: 5px; }
    .row-gap-xs [class*="col-"].sm-fluid .form-grid,.row-gap-xs-v [class*="col-"].sm-fluid .form-grid { margin-bottom: 3px; }
    .row-gap-sm [class*="col-"].sm-fluid .form-grid,.row-gap-sm-v [class*="col-"].sm-fluid .form-grid { margin-bottom: 0; }
    .row-gap-md [class*="col-"].sm-fluid .form-grid,.row-gap-md-v [class*="col-"].sm-fluid .form-grid { margin-bottom: -5px; }
}
@media (@xs-finish) {
    .form-xs-inline { width: 100% !important; display: block !important; }
    .form-xs-inline:not(:last-child):not(.highlight) { margin-bottom: 5px; }

    label.custom + label.custom { display: block; }
}