// out: false
/* dropdown */ @import '_settings.less';

@dropdown-border:                       fade(@black, 4.5%);
@dropdown-border-dark:                  fade(@white, 4.5%);

@dropdown-list-selected-bg:             fade(@black, 7.5%);
@dropdown-list-selected-bg-dark:        fade(@white, 7.5%);

@dropdown-list-bg-hover:                fade(@black, 5%);
@dropdown-list-bg-hover-dark:           fade(@black, 5%);
@dropdown-list-border:                  fade(@black, 4.5%);
@dropdown-list-border-dark:             fade(@white, 6.5%);

[data-theme="light"] {
    --dropdown-border: @dropdown-border;
    --dropdown-list-selected-bg: @dropdown-list-selected-bg;

    --dropdown-list-bg-hover: @dropdown-list-bg-hover;
    --dropdown-list-border: @dropdown-list-border;
}

._darkmode-dropdown-vars (@dark-mode) when (@dark-mode = true) {
    [data-theme="dark"] {
        --dropdown-border: @dropdown-border-dark;
        --dropdown-list-selected-bg: @dropdown-list-selected-bg-dark;

        --dropdown-list-bg-hover: @dropdown-list-bg-hover-dark;
        --dropdown-list-border: @dropdown-list-border-dark;
    }
}

._darkmode-dropdown-vars(@dark-mode);

.ease-dropdown li { transition-property: background-color; transition-duration: .15s; }
.ease-dropdown > .btn { transition-property: color, background-color, border-width, border-color, opacity, transform, box-shadow; transition-duration: .15s; }
.ease-dropdown > .btn .icon { transition-property: color, transform, opacity; transition-duration: .15s; }
.ease-dropdown .content { transition-property: opacity, transform; transition-duration: .15s; transition-timing-function: ease-in-out; }

.dropdown { vertical-align: middle; display: inline-block; position: relative; }
.mobile-menu .dropdown { display: block; }
.dropdown.open { z-index: 19; }
.dropdown > .btn { display: block; }
.dropdown > .btn:not(.btn-square) { width: 100%; }
.dropdown.open > .btn-ghost:not([class*="ui-"]) { ._bg-var(btn-ghost-bg-hover); }

.dropdown > .btn .toggle-icon { width: 14px !important; height: 14px !important; margin-top: -2px; stroke-width: 38px !important; }
.dropdown > .btn .toggle-icon.right { margin-top: 4px; margin-bottom: 4px; }
.dropdown.open-ease > .btn .toggle-icon { transform: rotate(-180deg); }
.dropdown.open-ease > .btn .icon { opacity: 1; }

.mobile-menu .dropdown .toggle-icon { position: absolute; top: 50%; right: 10px; transform: translateY(-50%); }
.mobile-menu .dropdown.open-ease .toggle-icon { position: absolute; top: 50%; right: 10px; transform: translateY(-50%) rotate(-180deg); }

.dropdown .content { ._bg-var(highlighted); overflow-x: hidden; overflow-y: auto; position: absolute; transform-origin: top left; -webkit-overflow-scrolling: touch; }
.dropdown:not(.nav) .content { max-width: 744px; }
.dropdown.menu-c .content { transform-origin: top center; }
.dropdown.menu-l .content { transform-origin: top right; }
.dropdown ul.content { list-style: none; padding: 0; margin-bottom: 0; }
.mobile-menu .dropdown .content { position: static; box-shadow: none; transform-origin: top center !important; }
.mobile-menu .dropdown:not(:last-child) .content { margin-bottom: 10px !important; }

.dropdown:not(.open) .content { display: none; }
.dropdown:not(.open-ease) .content { opacity: 0; transform: scale(.95); }
.dropdown:not(.menu-t) .content { margin-top: 1px; }
.dropdown.menu-t .content { margin-bottom: 1px; bottom: 100%; transform-origin: bottom left; }
.dropdown.menu-t.menu-c .content { transform-origin: bottom center; }
.dropdown.menu-t.menu-l .content { transform-origin: bottom right; }

.dropdown ul.content > li { line-height: 20px; min-height: 30px; padding: 10px; }
.dropdown ul.content > li:not(:last-child) { ._border-var(@dir: border-bottom; @var: dropdown-list-border); }
html:not(.mobile) .dropdown ul.content > li:hover { ._bg-var(dropdown-list-bg-hover); background-clip: padding-box; }

.dropdown ul.content > li,.dropdown ul.content > li a,.dropdown ul.content > li > label { font-size: 15px; line-height: 24px; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; display: block; }
.dropdown ul.content:not(.has-grid) > li,.dropdown ul.content:not(.has-grid) > li * { text-align: left !important; }
.dropdown ul.content > li > a { line-height: normal; padding: 10px; margin: -10px; }
.dropdown ul.content > li > label { padding: 10px; margin: -10px; overflow: hidden; position: relative; cursor: pointer; }
.dropdown ul.content > li.selected > label { ._bg-var(dropdown-list-selected-bg); }
.dropdown ul.content > li > label input { position: absolute; left: -20000px; }

.dropdown ul.content.has-grid li,.dropdown [class*="list-column-"] > li { ._border-var(@dir: border-right; @var: dropdown-border); }

.dropdown ul.content.has-icon > li { padding-right: 38px; position: relative; }
.dropdown ul.content.has-icon > li a { padding-right: 38px; margin-right: -38px; }
.dropdown ul.content.has-icon > li .list-icon { position: absolute; top: 50%; right: 10px; transform: translateY(-50%); }

.dropdown ul.content.has-grid { display: flex; flex-wrap: wrap; }
.dropdown ul.content.has-grid > li { text-align: center; width: 50%; flex-grow: 1; }
.dropdown ul.content.has-grid > li a { text-align: center; }
.dropdown ul.content.has-grid > li .icon,.dropdown ul.content.has-grid > li img { margin: 5px auto 10px auto; display: block; }

.dropdown .has-grid > li:nth-last-child(2):not(:nth-child(2n)) { border-bottom: 0 !important; }
.dropdown .has-grid > li:nth-child(2n),.dropdown .has-grid > li:last-child { border-right: none !important; }

.dropdown .list-column-2 > li:nth-child(2n),.dropdown .list-column-3 > li:nth-child(3n),
.dropdown .list-column-4 > li:nth-child(4n),.dropdown .list-column-5 > li:nth-child(5n),.dropdown .list-column-6 > li:nth-child(6n) { border-right: none; }

@media (min-width: 768px) {
    .dropdown .content { min-width: 260px; }
    .dropdown .content.list-column-2 { min-width: 420px; }
    .dropdown .content[class*="list-column-"] { min-width: 680px; }

    .dropdown ul.content.has-grid { min-width: 300px; }
}
@media (max-width: 767px) {
    .dropdown .content { transform-origin: top center !important; }
}
